{% extends 'base.html' %}
{% block content %}
<div class='container-fluid'>
  <div class='row mb-4 align-items-center'>
    <div class='col'>
      <h1><i class='bi bi-people'></i> Users</h1>
    </div>
    <div class='col-auto'>
      <a href='{{ url_for('user_new') }}' class='btn btn-primary'>
        <i class='bi bi-plus-circle'></i> New User
      </a>
    </div>
  </div>

  {% if users %}
    <div class='table-responsive'>
      <table class='table table-hover table-striped'>
        <thead>
          <tr>
            <th>Username</th>
            <th>Role</th>
            <th style='width: 150px;'>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for u in users %}
            <tr>
              <td>
                <strong>{{ u.username }}</strong>
              </td>
              <td>
                <span class='badge bg-info'>{{ u.role }}</span>
              </td>
              <td>
                <a href='{{ url_for('user_edit', user_id=u.id) }}' class='btn btn-sm btn-outline-warning'>
                  <i class='bi bi-pencil'></i> Edit
                </a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <div class='alert alert-info'>
      <i class='bi bi-info-circle'></i> No users found.
      <a href='{{ url_for('user_new') }}' class='alert-link'>Create your first user</a>
    </div>
  {% endif %}
</div>
{% endblock %}
