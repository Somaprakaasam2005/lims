{% extends 'base.html' %}
{% block content %}
<div class='container-fluid'>
  <div class='row'>
    <div class='col-lg-8 mx-auto'>
      <div class='card'>
        <div class='card-header'>
          <h5 class='mb-0'><i class='bi bi-pencil'></i> Edit Project</h5>
        </div>
        <div class='card-body'>
          <form method='post' novalidate>
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
            
            <div class='row'>
              <div class='col-md-6 mb-3'>
                <label for='project_code' class='form-label'>
                  <i class='bi bi-code-square'></i> Project Code <span class='text-danger'>*</span>
                </label>
                <input type='text' class='form-control' id='project_code' name='project_code' 
                       value='{{ project.project_code }}' required maxlength='20'>
              </div>
              
              <div class='col-md-6 mb-3'>
                <label for='project_name' class='form-label'>
                  <i class='bi bi-bookmark'></i> Project Name <span class='text-danger'>*</span>
                </label>
                <input type='text' class='form-control' id='project_name' name='project_name' 
                       value='{{ project.project_name }}' required>
              </div>
            </div>

            <div class='mb-3'>
              <label for='client_name' class='form-label'>
                <i class='bi bi-person-badge'></i> Client Name
              </label>
              <input type='text' class='form-control' id='client_name' name='client_name' 
                     value='{{ project.client_name }}'>
            </div>

            <div class='mb-3'>
              <label for='description' class='form-label'>
                <i class='bi bi-file-text'></i> Description
              </label>
              <textarea class='form-control' id='description' name='description' rows='4'>{{ project.description }}</textarea>
            </div>

            <div class='row'>
              <div class='col-md-6 mb-3'>
                <label for='status' class='form-label'>
                  <i class='bi bi-flag'></i> Status
                </label>
                <select class='form-select' id='status' name='status'>
                  <option value='Active' {% if project.status == 'Active' %}selected{% endif %}>Active</option>
                  <option value='Completed' {% if project.status == 'Completed' %}selected{% endif %}>Completed</option>
                  <option value='On Hold' {% if project.status == 'On Hold' %}selected{% endif %}>On Hold</option>
                </select>
              </div>
              <div class='col-md-6 mb-3'>
                <label class='form-label'><i class='bi bi-calendar'></i> Created</label>
                <p class='form-control-plaintext'>
                  {{ project.created_at.strftime('%Y-%m-%d %H:%M:%S') if project.created_at else 'N/A' }}
                </p>
              </div>
            </div>

            <div class='d-flex gap-2'>
              <button type='submit' class='btn btn-primary'>
                <i class='bi bi-check-circle'></i> Update Project
              </button>
              <a href='/projects/{{ project.id }}' class='btn btn-secondary'>
                <i class='bi bi-x-circle'></i> Cancel
              </a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
